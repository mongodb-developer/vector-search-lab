"use strict";(self.webpackChunkvector_search_lab=self.webpackChunkvector_search_lab||[]).push([[362],{7253:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>l,frontMatter:()=>s,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"key-concepts/vector-search","title":"\ud83d\udcd8 Vector Search","description":"Vector search","source":"@site/docs/10-key-concepts/2-vector-search.mdx","sourceDirName":"10-key-concepts","slug":"/key-concepts/vector-search","permalink":"/vector-search-lab/docs/key-concepts/vector-search","draft":false,"unlisted":false,"editUrl":"https://github.com/mongodb-developer/vector-search-lab/blob/main/docs/10-key-concepts/2-vector-search.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udcd8 Embeddings","permalink":"/vector-search-lab/docs/key-concepts/embeddings"},"next":{"title":"Dev Environment","permalink":"/vector-search-lab/docs/category/dev-environment"}}');var o=t(4848),c=t(8453);const s={},i="\ud83d\udcd8 Vector Search",a={},h=[{value:"Vector search",id:"vector-search",level:2},{value:"Vector search in MongoDB",id:"vector-search-in-mongodb",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"-vector-search",children:"\ud83d\udcd8 Vector Search"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(6001).A+"",width:"1449",height:"531"})}),"\n",(0,o.jsx)(n.h2,{id:"vector-search",children:"Vector search"}),"\n",(0,o.jsx)(n.p,{children:"Vector search, a.k.a. semantic search is an information retrieval technique that retrieves data based on intent or meaning."}),"\n",(0,o.jsx)(n.p,{children:"Unlike traditional full-text search which finds keyword matches, vector search uses embeddings to find items closest to your search query in multi-dimensional vector space. The closer the embeddings are to your query, the more similar they are in meaning."}),"\n",(0,o.jsx)(n.h2,{id:"vector-search-in-mongodb",children:"Vector search in MongoDB"}),"\n",(0,o.jsx)(n.p,{children:"In MongoDB, you can semantically search through your data using MongoDB Atlas Vector Search."}),"\n",(0,o.jsx)(n.p,{children:"To perform vector search on your data in MongoDB, you need to create a vector search index. An example of a vector search index definition looks as follows:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "fields":[\n    {\n      "type": "vector",\n      "path": "embedding",\n      "numDimensions": 1536,\n      "similarity": "cosine"\n    },\n    {\n      "type": "filter",\n      "path": "pages"\n    },\n    ...\n  ]\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["In the index definition, you specify the path to the embedding field (",(0,o.jsx)(n.code,{children:"path"}),"), the number of dimensions in the embedding vectors (",(0,o.jsx)(n.code,{children:"numDimensions"}),"), and a similarity metric that specifies how to determine nearest neighbors in vector space (",(0,o.jsx)(n.code,{children:"similarity"}),"). You can also index filter fields that allow you to pre-filter on certain metadata to narrow the scope of the vector search."]}),"\n",(0,o.jsxs)(n.p,{children:["Vector search in MongoDB takes the form of an aggregation pipeline stage. It always needs to be the first stage in the pipeline and can be followed by other stages to further process the semantic search results. An example pipeline including the ",(0,o.jsx)(n.code,{children:"$vectorSearch"})," stage is as follows:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "$vectorSearch": {\n      "index": "vector_index", \n      "path": "embedding",  \n      "queryVector": [0.02421053, -0.022372592,...], \n      "numCandidates": 150,\n      "filter": {"pages": 100},\n      "limit": 10\n    }\n  }, \n  {\n    "$project": {\n      "_id": 0, \n      "title": 1,\n      "score": {"$meta": "vectorSearchScore"}\n    }\n  }\n]\n'})}),"\n",(0,o.jsxs)(n.p,{children:["In this example, you can see a vector search query with a pre-filter. The ",(0,o.jsx)(n.code,{children:"limit"})," field in the query definition specifies how many documents to return from the vector search."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"$project"})," stage that follows only returns documents with the ",(0,o.jsx)(n.code,{children:"title"})," field and the similarity score from the vector search."]})]})}function l(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},6001:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/vector-search-08c46040b6c71dcd6ef46ab1bf9f26d0.png"},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var r=t(6540);const o={},c=r.createContext(o);function s(e){const n=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);