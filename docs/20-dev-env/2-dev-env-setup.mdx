import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Screenshot from "@site/src/components/Screenshot";

# üëê Setup dev environment

:::tip
In this lab, we will be using Jupyter Notebooks, which is an interactive Python environment. If you are new to Jupyter Notebooks, use <a href="./jupyter-notebooks">this</a> guide to familiarize yourself with the environment.
:::

You have a few different options to run this lab. **Our preferred platform is Instruqt**.

If for some reason, you are unable to access the lab through Instruqt, try GitHub Codespaces. If neither of these work, or if you really, really, really want a local installation, only then run the lab locally.

<Tabs groupId="setup options">
<TabItem value="Instruqt" label="Instruqt">

Instruqt

</TabItem>

<TabItem value="GitHub Codespaces" label="GitHub Codespaces">

A codespace, much like Instruqt, is a cloud-hosted development environment from GitHub, that comes pre-configured with all the tools you need to run this lab.

Navigate to [this](https://github.com/codespaces/new/mongodb-developer/genai-devday-notebooks?quickstart=1) link. You will be prompted to sign into GitHub if you haven't already. Once signed in, click the **Create new codespace** button to create a new codespace.

<Screenshot url="https://github.com/codespaces" src="img/screenshots/20-dev-env/2-dev-env-setup/1-create-codespace.png" alt="Start a codespace" />

Let it run for a few seconds as it prepares a Docker container with all the required libraries and a MongoDB cluster.

### Connect to the MongoDB cluster

Later in the lab, we will import data into the MongoDB cluster that you can view directly from the VSCode IDE. But first, you will need to connect to the cluster.

To do this, click the leaf icon in the left navigation bar of the IDE.

<Screenshot url="https://github.com/codespaces" src="img/screenshots/20-dev-env/2-dev-env-setup/2-click-leaf.png" alt="Click leaf icon" />

Under **Connections**, click the _mongodb:27017_ connection. This should automatically establish a connection to the local MongoDB cluster running on port 27017.

<Screenshot url="https://github.com/codespaces" src="img/screenshots/20-dev-env/2-dev-env-setup/3-connect-cluster.png" alt="Connect to the cluster" />

If the connection was successful, you should see the message **Connected to: mongodb:27017** with a green indicator.

You will also see the default databases in the cluster appear under **Connections**. Any additional databases we create during the lab will also appear here.

<Screenshot url="https://github.com/codespaces" src="img/screenshots/20-dev-env/2-dev-env-setup/4-connection-successful.png" alt="Connection successful" />

### Jupyter Notebook setup

You will be filling code in a Jupyter Notebook during this lab, so let's get set up with that next!

Within the codespace, click on the files icon in the left navigation bar of the IDE. In the Explorer menu, under `notebooks`, click on the file named `vector-search-lab.ipynb` to open the Jupyter Notebook for this lab.

<Screenshot url="https://github.com/codespaces" src="img/screenshots/20-dev-env/2-dev-env-setup/5-nav-notebook.png" alt="Navigate to the notebook" />

Next, select the Python interpreter by clicking **Select Kernel** at the top right of the IDE.

<Screenshot url="https://github.com/codespaces" src="img/screenshots/20-dev-env/2-dev-env-setup/6-select-kernel.png" alt="Select kernel" />

In the modal that appears, click **Python environments...** and select the interpreter that is marked as **Recommended** or **Global Env**.

<Screenshot url="https://github.com/codespaces" src="img/screenshots/20-dev-env/2-dev-env-setup/7-python-env-modal.png" alt="Select Python Environments" />

<Screenshot url="https://github.com/codespaces" src="img/screenshots/20-dev-env/2-dev-env-setup/8-select-recommended.png" alt="Select recommended interpreter" />

That's it! You're ready for the lab!

</TabItem>

<TabItem value="Run locally" label="Run locally">

To run the lab locally, follow the steps below: 

* Clone the [GitHub repo](https://github.com/mongodb-developer/genai-devday-notebooks.git) for this lab by executing the following command from the terminal:

```
git clone https://github.com/mongodb-developer/genai-devday-notebooks.git
```

* `cd` into the `notebooks` directory of the cloned repository:

```
cd genai-devday-notebooks/notebooks
```

* Create and activate a Python virtual environment:

```
python -m venv vector-search-lab
source vector-search-lab/bin/activate
```

* Install the dependencies for this lab:

```
pip install -r requirements.txt
```

* Install and launch Jupyter Notebook:

```
pip install notebook
jupyter notebook
```

* In the browser tab that pops up, open the file named `vector-search-lab.ipynb`.

<Screenshot url="localhost:8888/tree" src="img/screenshots/20-dev-env/2-dev-env-setup/1-jupyter-notebook.png" alt="Jupyter Notebook" />

</TabItem>

</Tabs>